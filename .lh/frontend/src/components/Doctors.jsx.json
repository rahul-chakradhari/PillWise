{
    "sourceFile": "frontend/src/components/Doctors.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1742631509558,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1742631509558,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState, useRef } from \"react\";\r\nimport Lottie from \"lottie-react\";\r\nimport \"./styles.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setDoctors, setError, setLoading } from \"../redux/doctorSlice\";\r\nimport useFetchDoctors from \"../hooks/useFetchDoctors\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axiosInstance from \"../utils/axiosInstant\";\r\n\r\nconst Doctors = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const [animationData, setAnimationData] = useState(null);\r\n\r\n  // Refs for scrolling\r\n  const dermatologistRef = useRef(null);\r\n\r\n  // Fetch doctors from Redux store\r\n  useEffect(() => {\r\n    const fetchDoctors = async () => {\r\n      dispatch(setLoading(true));\r\n      try {\r\n        const response = await axiosInstance.get(\"/api/doctors\");\r\n        dispatch(setDoctors(response.data.doctors));\r\n      } catch (error) {\r\n        dispatch(setError(\"Failed to load doctors!\"));\r\n      } finally {\r\n        dispatch(setLoading(false));\r\n      }\r\n    };\r\n\r\n    fetchDoctors();\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/Animation - 1741258183863.json\")\r\n      .then((response) => response.json())\r\n      .then((data) => setAnimationData(data))\r\n      .catch((error) => console.error(\"Error loading animation:\", error));\r\n  }, []);\r\n\r\n  useFetchDoctors();\r\n\r\n  const { doctors } = useSelector((store) => store.doctorKey);\r\n\r\n  // ‚úÖ Scroll to Dermatologist section\r\n  const scrollToDermatologist = () => {\r\n    if (dermatologistRef.current) {\r\n      dermatologistRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"doctors-container\">\r\n        <div className=\"doctors-content\">\r\n          <div className=\"doctors-text\">\r\n            <div className=\"title\">Meet Our Doctors üë®‚Äç‚öïÔ∏èüë©‚Äç‚öïÔ∏è</div>\r\n            <div className=\"texts\">\r\n              <b>1. Your Health, Our Priority! ‚ù§Ô∏è</b>\r\n              <div className=\"subtexts\">\r\n                Our expert doctors üè• provide the best healthcare solutions.\r\n              </div>\r\n              <b>2. Connect with Specialists ü©∫</b>\r\n              <div className=\"subtexts\">\r\n                Schedule consultations üìÖ and get medical advice.\r\n              </div>\r\n              <b>3. 24/7 Medical Assistance üöë</b>\r\n              <div className=\"subtexts\">\r\n                Get round-the-clock support & emergency help.\r\n              </div>\r\n              <br />\r\n              <button\r\n                className=\"button-64\"\r\n                onClick={scrollToDermatologist} // ‚úÖ Scroll to Dermatologist\r\n              >\r\n                <span className=\"text\">Book Appointment</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"doctors-image\">\r\n            {animationData && (\r\n              <Lottie\r\n                animationData={animationData}\r\n                loop={true}\r\n                className=\"animation-style\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Speciality Buttons Section */}\r\n      <div className=\"speci\">\r\n        <h3>Find by Speciality</h3>\r\n      </div>\r\n      <div className=\"stylish\">\r\n        <button className=\"button-92\">General Physician</button>\r\n        <button className=\"button-92\">Gynecologist</button>\r\n        <button className=\"button-92\" ref={dermatologistRef}>\r\n          Dermatologist\r\n        </button>\r\n        <button className=\"button-92\">Oncologist </button>\r\n        <button className=\"button-92\">Baby doctors</button>\r\n      </div>\r\n\r\n      {/* Doctors List Section */}\r\n      <div className=\"rewards-container\">\r\n        <div className=\"rewards-grid\">\r\n          {doctors &&\r\n            doctors.map((doctor) => (\r\n              <div\r\n                key={doctor._id}\r\n                className=\"card bg-base-100 image-full max-w-sm shadow-sm items-center flex\"\r\n              >\r\n                <img\r\n                  src={\r\n                    doctor.profileImage ||\r\n                    \"https://img.daisyui.com/images/stock/photo-1606107557195-0e29a4b5b4aa.webp\"\r\n                  }\r\n                  alt={doctor.name}\r\n                />\r\n\r\n                <div className=\"card-body\">\r\n                  <h2 className=\"card-title\">{doctor.name}</h2>\r\n                  <p className=\"uppercase font-semibold\">{doctor.speciality}</p>\r\n                  <p>Fees: {doctor.fees} ‚Çπ</p>\r\n                  <div>\r\n                    <button\r\n                      onClick={() =>\r\n                        navigate(`/appointment/${doctor._id}`, scroll(0, 0))\r\n                      }\r\n                      className=\"bg-orange-400 px-4 py-2 rounded-xl text-2xl\"\r\n                    >\r\n                      More Information\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Doctors;\r\n"
        }
    ]
}